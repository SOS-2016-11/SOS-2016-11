<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
    <script>
//      console.log("JQuery Init!");
      $(document).ready(() => {
//        console.log("JQuery Ready!");

        $("#button").click(() => {
//          console.log("Handling Click!");
          var url = $("#url").val();
          var method = $("input[type=radio]:checked").attr("id");
//          var da = JSON.stringify($("payload").text();
//          console.log(da);
          var request = $.ajax({
                  url: url,
                  type: method,
                  data: $("#payload").val(),
                  contentType: "application/json"
                  // data: '{"name":"sevilla“,…}'

          });

          request.done(function(data,status,jqXHR) {
            $("#data").text(JSON.stringify(data));
            $("#status").html(jqXHR.status);
            $("#log").html(jqXHR.statusText);
          });

          request.always(function(jqXHR, status) {
            if(status == "error"){
              $("#status").html(jqXHR.status);
              $("#log").html(jqXHR.statusText);
              $("#data").html("");
            }
          });
        });
      });
    </script>

  </head>

  <body>
    <h1>JQuery REST Client</h1>
    URL: <input id="url" size="30" value="/api/v1/average-rainfall/?apikey=sos"/>
    GET <input name="method" type="radio" id="GET" checked="checked"/> &nbsp;&nbsp;
    POST <input name="method" type="radio" id="POST" /> &nbsp;&nbsp;
    PUT <input name="method" type="radio" id="PUT" /> &nbsp;&nbsp;
    DELETE <input name="method" type="radio" id="DELETE" /> &nbsp;&nbsp;
    <br/>
    Payload: <input id="payload" size="60" value='{"river_basin": "Po", "month": "June", "year": 2012, "pm": 56, "pe": 40.9, "pa": 301.9}'/>
    <br/><br/>
    <span id="button">Send</span>
    <br/><hr/>
    HTTP Status: <span id="status"></span>
    <br/><hr/>
    <span id="data"></span>
    <br/><hr/>
    <ul id="list"></ul>
    <hr/>
    Log: <span id="log"></span>
  </body>
</html>

<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.0/css/materialize.min.css" />
    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.0/js/materialize.min.js"></script>
  <script>
  $(document).ready(function (){
      console.log("JQuery ready");

      $("#button").click(()=>{
        console.log("Handling click");

        var request= $.ajax({
          url:$("#url").val(),
          type:"GET",
          data: $("#payload").val(),
          contentType : "application/json"
        });

        request.done(function(data,status,jqXHR) {
          $("#data").text(JSON.stringify(data));
          $("#status").html(jqXHR.status);
          $("#log").html(jqXHR.statusText);
        });

        request.always(function(jqXHR, status) {
          if(status == "error"){
            $("#status").html(jqXHR.status);
            $("#log").html(jqXHR.statusText);
            $("#data").html("");
          }
        });
      });

      $("#button2").click(()=>{
        console.log("Handling click");

        var request= $.ajax({
          url:$("#url").val(),
          type:"POST",
          data: $("#payload").val(),
          contentType : "application/json"
        });

        request.done(function(data,status,jqXHR) {
          $("#data").text(JSON.stringify(data));
          $("#status").html(jqXHR.status);
          $("#log").html(jqXHR.statusText);
        });

        request.always(function(jqXHR, status) {
          if(status == "error"){
            $("#status").html(jqXHR.status);
            $("#log").html(jqXHR.statusText);
            $("#data").html("");
          }
        });
      });

      $("#button3").click(()=>{
        console.log("Handling click");

        var request= $.ajax({
          url:$("#url").val(),
          type:"PUT",
          data: $("#payload").val(),
          contentType : "application/json"
        });

        request.done(function(data,status,jqXHR) {
          $("#data").text(JSON.stringify(data));
          $("#status").html(jqXHR.status);
          $("#log").html(jqXHR.statusText);
        });

        request.always(function(jqXHR, status) {
          if(status == "error"){
            $("#status").html(jqXHR.status);
            $("#log").html(jqXHR.statusText);
            $("#data").html("");
          }
        });
      });

      $("#button4").click(()=>{
        console.log("Handling click");

        var request= $.ajax({
          url:$("#url").val(),
          type:"DELETE",
          data: $("#payload").val(),
          contentType : "application/json"
        });

        request.done(function(data,status,jqXHR) {
          $("#data").text(JSON.stringify(data));
          $("#status").html(jqXHR.status);
          $("#log").html(jqXHR.statusText);
        });

        request.always(function(jqXHR, status) {
          if(status == "error"){
            $("#status").html(jqXHR.status);
            $("#log").html(jqXHR.statusText);
            $("#data").html("");
          }
        });
      });
  });
  </script>
</head>
<body>
  <h1 class="center-align">Pressure and Temperatures</h1>
  <br/>
    <div class="card-panel teal lighten-2">
      URL: <input id="url" size="60" value="/api/v1/pressure-and-temperatures?apikey=multiPlan_C3_sos-2016-11-pgt_ag"/>
      <br/>
      Payload: <input id="payload" size="60" value='{"name": "Sevilla","month": "Enero","year": 2015,"p": 879,"t": 9.8,"td": 3.1}'/>
      <br/><br/>
      <button id="button" type="button" class="btn btn-primary active">GET</button>
      <button id="button2" type="button" class="btn btn-primary active">POST</button>
      <button id="button3" type="button" class="btn btn-primary active">PUT</button>
      <button id="button4" type="button" class="btn btn-primary active">DELETE</button>
      <br/><hr/>
      HTTP Status: <span id="status"></span>
      <br/><hr/>
      <span id="data"></span>
      <br/><hr/>
      Log: <span id="log"></span>
    </div>
</body>
</html>

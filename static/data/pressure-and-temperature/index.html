<html>
  <head>
    <script src="https://code.jquery.com/jquery-1.12.2.min.js"></script>
    <link rel="stylesheet"type="text/css" href="style.css"/>
    <script>
    $(document).ready(function (){
        console.log("JQuery ready");
        $("#button").click(()=>{
            var request= $.ajax({
              type: "GET",
              url:"/api/v1/pressure-and-temperatures?apikey=sos",
              data: "{}",
              contentType: "application/json",
              dataType: "json",
              cache: false,
              success: (data) => {

              var trHTML = '';

              $.each(data, function (i, item) {
              //Cambiar codigo para que muestre los elementos independientes
                  trHTML += '<tr><td>' + data[i].name + '</td><td>' + data[i].month + '</td><td>'+ data[i].year + '</td><td>' + data[i].p + '</td><td>'+ data[i].t + '</td><td>'+ data[i].td + '</td></tr>';

              });
              $('#location').append(trHTML);
              console.log(trHTML);
              }
            });

            request.done((data)=>{
              console.log("data received");
              console.log(data);
              //$("#location").text(JSON.stringify(data));
            });
            request.always((jqXHR,status)=>{
                if(status=="error")
                console.log("Status: "+ jqXHR.status);
            });
        });
    });
    </script>
  </head>
  <body>
    <h1>Pressure and Temperatures</h1>

    <table id="location1" border='1'>
        <tr>
            <th>Name</th>
             <th> Month</th>
             <th> Year</th>
             <th>Pres</th>
             <th>Temp</th>
             <th>T.D.</th>
        </tr>
    </table>
    <table id="location" border='1'>

    </table>
    <br/>
    <span id="button">show data!</span>
    <br/>
  </body>
</html>
